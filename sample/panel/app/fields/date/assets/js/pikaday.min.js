(function(e,t){"use strict";var n;if(typeof exports==="object"){try{n=require("moment")}catch(r){}module.exports=t(n)}else if(typeof define==="function"&&define.amd){define(function(e){var r="moment";n=e.defined&&e.defined(r)?e(r):undefined;return t(n)})}else{e.Pikaday=t(e.moment)}})(this,function(e){"use strict";var t=typeof e==="function",n=!!window.addEventListener,r=window.document,i=window.setTimeout,s=function(e,t,r,i){if(n){e.addEventListener(t,r,!!i)}else{e.attachEvent("on"+t,r)}},o=function(e,t,r,i){if(n){e.removeEventListener(t,r,!!i)}else{e.detachEvent("on"+t,r)}},u=function(e,t,n){var i;if(r.createEvent){i=r.createEvent("HTMLEvents");i.initEvent(t,true,false);i=y(i,n);e.dispatchEvent(i)}else if(r.createEventObject){i=r.createEventObject();i=y(i,n);e.fireEvent("on"+t,i)}},a=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},f=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},l=function(e,t){if(!f(e,t)){e.className=e.className===""?t:e.className+" "+t}},c=function(e,t){e.className=a((" "+e.className+" ").replace(" "+t+" "," "))},h=function(e){return/Array/.test(Object.prototype.toString.call(e))},p=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},d=function(e){return e%4===0&&e%100!==0||e%400===0},v=function(e,t){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){if(p(e))e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t){i=e[r]!==undefined;if(i&&typeof t[r]==="object"&&t[r].nodeName===undefined){if(p(t[r])){if(n){e[r]=new Date(t[r].getTime())}}else if(h(t[r])){if(n){e[r]=t[r].slice(0)}}else{e[r]=y({},t[r],n)}}else if(n||!i){e[r]=t[r]}}return e},b=function(e){if(e.month<0){e.year-=Math.ceil(Math.abs(e.month)/12);e.month+=12}if(e.month>11){e.year+=Math.floor(Math.abs(e.month)/12);e.month-=12}return e},w={field:null,bound:undefined,position:"bottom left",format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:false,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:false,minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined,isRTL:false,yearSuffix:"",showMonthAfterYear:false,numberOfMonths:1,mainCalendar:"left",container:undefined,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},E=function(e,t,n){t+=e.firstDay;while(t>=7){t-=7}return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},S=function(e,t,n,r,i,s,o){if(o){return'<td class="is-empty"></td>'}var u=[];if(s){u.push("is-disabled")}if(i){u.push("is-today")}if(r){u.push("is-selected")}return'<td data-day="'+e+'" class="'+u.join(" ")+'">'+'<button class="pika-button pika-day" type="button" '+'data-pika-year="'+n+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button>"+"</td>"},x=function(e,t,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},T=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},N=function(e){return"<tbody>"+e.join("")+"</tbody>"},C=function(e){var t,n=[];if(e.showWeekNumber){n.push("<th></th>")}for(t=0;t<7;t++){n.push('<th scope="col"><abbr title="'+E(e,t)+'">'+E(e,t,true)+"</abbr></th>")}return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},k=function(e,t,n,r,i){var s,o,u,a=e._o,f=n===a.minYear,l=n===a.maxYear,c='<div class="pika-title">',p,d,v=true,m=true;for(u=[],s=0;s<12;s++){u.push('<option value="'+(n===i?s-t:12+s-t)+'"'+(s===r?" selected":"")+(f&&s<a.minMonth||l&&s>a.maxMonth?"disabled":"")+">"+a.i18n.months[s]+"</option>")}p='<div class="pika-label">'+a.i18n.months[r]+'<select class="pika-select pika-select-month">'+u.join("")+"</select></div>";if(h(a.yearRange)){s=a.yearRange[0];o=a.yearRange[1]+1}else{s=n-a.yearRange;o=1+n+a.yearRange}for(u=[];s<o&&s<=a.maxYear;s++){if(s>=a.minYear){u.push('<option value="'+s+'"'+(s===n?" selected":"")+">"+s+"</option>")}}d='<div class="pika-label">'+n+a.yearSuffix+'<select class="pika-select pika-select-year">'+u.join("")+"</select></div>";if(a.showMonthAfterYear){c+=d+p}else{c+=p+d}if(f&&(r===0||a.minMonth>=r)){v=false}if(l&&(r===11||a.maxMonth<=r)){m=false}if(t===0){c+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+a.i18n.previousMonth+"</button>"}if(t===e._o.numberOfMonths-1){c+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+a.i18n.nextMonth+"</button>"}return c+="</div>"},L=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+C(e)+N(t)+"</table>"},A=function(o){var u=this,a=u.config(o);u._onMouseDown=function(e){if(!u._v){return}e=e||window.event;var t=e.target||e.srcElement;if(!t){return}if(!f(t,"is-disabled")){if(f(t,"pika-button")&&!f(t,"is-empty")){u.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day")));if(a.bound){i(function(){u.hide();if(a.field){a.field.blur()}},100)}return}else if(f(t,"pika-prev")){u.prevMonth()}else if(f(t,"pika-next")){u.nextMonth()}}if(!f(t,"pika-select")){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false;return false}}else{u._c=true}};u._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;if(!t){return}if(f(t,"pika-select-month")){u.gotoMonth(t.value)}else if(f(t,"pika-select-year")){u.gotoYear(t.value)}};u._onInputChange=function(n){var r;if(n.firedBy===u){return}if(t){r=e(a.field.value,a.format);r=r&&r.isValid()?r.toDate():null}else{r=new Date(Date.parse(a.field.value))}u.setDate(p(r)?r:null);if(!u._v){u.show()}};u._onInputFocus=function(){u.show()};u._onInputClick=function(){u.show()};u._onInputBlur=function(){if(!u._c){u._b=i(function(){u.hide()},50)}u._c=false};u._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,r=t;if(!t){return}if(!n&&f(t,"pika-select")){if(!t.onchange){t.setAttribute("onchange","return;");s(t,"change",u._onChange)}}do{if(f(r,"pika-single")){return}}while(r=r.parentNode);if(u._v&&t!==a.trigger){u.hide()}};u.el=r.createElement("div");u.el.className="pika-single"+(a.isRTL?" is-rtl":"");s(u.el,"mousedown",u._onMouseDown,true);s(u.el,"change",u._onChange);if(a.field){if(a.container){a.container.appendChild(u.el)}else if(a.bound){r.body.appendChild(u.el)}else{a.field.parentNode.insertBefore(u.el,a.field.nextSibling)}s(a.field,"change",u._onInputChange);if(!a.defaultDate){if(t&&a.field.value){a.defaultDate=e(a.field.value,a.format).toDate()}else{a.defaultDate=new Date(Date.parse(a.field.value))}a.setDefaultDate=true}}var l=a.defaultDate;if(p(l)){if(a.setDefaultDate){u.setDate(l,true)}else{u.gotoDate(l)}}else{u.gotoDate(new Date)}if(a.bound){this.hide();u.el.className+=" is-bound";s(a.trigger,"click",u._onInputClick);s(a.trigger,"focus",u._onInputFocus);s(a.trigger,"blur",u._onInputBlur)}else{this.show()}};A.prototype={config:function(e){if(!this._o){this._o=y({},w,true)}var t=y(this._o,e,true);t.isRTL=!!t.isRTL;t.field=t.field&&t.field.nodeName?t.field:null;t.bound=!!(t.bound!==undefined?t.field&&t.bound:t.field);t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var n=parseInt(t.numberOfMonths,10)||1;t.numberOfMonths=n>4?4:n;if(!p(t.minDate)){t.minDate=false}if(!p(t.maxDate)){t.maxDate=false}if(t.minDate&&t.maxDate&&t.maxDate<t.minDate){t.maxDate=t.minDate=false}if(t.minDate){m(t.minDate);t.minYear=t.minDate.getFullYear();t.minMonth=t.minDate.getMonth()}if(t.maxDate){m(t.maxDate);t.maxYear=t.maxDate.getFullYear();t.maxMonth=t.maxDate.getMonth()}if(h(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r;t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else{t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange;if(t.yearRange>100){t.yearRange=100}}return t},toString:function(n){return!p(this._d)?"":t?e(this._d).format(n||this._o.format):this._d.toDateString()},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){if(t&&e.isMoment(n)){this.setDate(n.toDate(),r)}},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e){this._d=null;return this.draw()}if(typeof e==="string"){e=new Date(Date.parse(e))}if(!p(e)){return}var n=this._o.minDate,r=this._o.maxDate;if(p(n)&&e<n){e=n}else if(p(r)&&e>r){e=r}this._d=new Date(e.getTime());m(this._d);this.gotoDate(this._d);if(this._o.field){this._o.field.value=this.toString();u(this._o.field,"change",{firedBy:this})}if(!t&&typeof this._o.onSelect==="function"){this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=true;if(!p(e)){return}if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1);r.setDate(r.getDate()-1);t=i<n.getTime()||r.getTime()<i}if(t){this.calendars=[{month:e.getMonth(),year:e.getFullYear()}];if(this._o.mainCalendar==="right"){this.calendars[0].month+=1-this._o.numberOfMonths}}this.adjustCalendars()},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++){this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year})}this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){if(!isNaN(e)){this.calendars[0].month=parseInt(e,10);this.adjustCalendars()}},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(e){if(!isNaN(e)){this.calendars[0].year=parseInt(e,10);this.adjustCalendars()}},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(!this._v&&!e){return}var t=this._o,n=t.minYear,r=t.maxYear,s=t.minMonth,o=t.maxMonth,u="";if(this._y<=n){this._y=n;if(!isNaN(s)&&this._m<s){this._m=s}}if(this._y>=r){this._y=r;if(!isNaN(o)&&this._m>o){this._m=o}}for(var a=0;a<t.numberOfMonths;a++){u+='<div class="pika-lendar">'+k(this,a,this.calendars[a].year,this.calendars[a].month,this.calendars[0].year)+this.render(this.calendars[a].year,this.calendars[a].month)+"</div>"}this.el.innerHTML=u;if(t.bound){if(t.field.type!=="hidden"){i(function(){t.trigger.focus()},1)}}if(typeof this._o.onDraw==="function"){var f=this;i(function(){f._o.onDraw.call(f)},0)}},adjustPosition:function(){if(this._o.container)return;var e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||r.documentElement.clientWidth,o=window.innerHeight||r.documentElement.clientHeight,u=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,a,f,l;if(typeof e.getBoundingClientRect==="function"){l=e.getBoundingClientRect();a=l.left+window.pageXOffset;f=l.bottom+window.pageYOffset}else{a=t.offsetLeft;f=t.offsetTop+t.offsetHeight;while(t=t.offsetParent){a+=t.offsetLeft;f+=t.offsetTop}}if(a+n>s||this._o.position.indexOf("right")>-1&&a-n+e.offsetWidth>0){a=a-n+e.offsetWidth}if(f+i>o+u||this._o.position.indexOf("top")>-1&&f-i-e.offsetHeight>0){f=f-i-e.offsetHeight}this.el.style.cssText=["position: absolute","left: "+a+"px","top: "+f+"px"].join(";")},render:function(e,t){var n=this._o,r=new Date,i=v(e,t),s=(new Date(e,t,1)).getDay(),o=[],u=[];m(r);if(n.firstDay>0){s-=n.firstDay;if(s<0){s+=7}}var a=i+s,f=a;while(f>7){f-=7}a+=7-f;for(var l=0,c=0;l<a;l++){var h=new Date(e,t,1+(l-s)),d=n.minDate&&h<n.minDate||n.maxDate&&h>n.maxDate,y=p(this._d)?g(h,this._d):false,b=g(h,r),w=l<s||l>=i+s;u.push(S(1+(l-s),t,e,y,b,d,w));if(++c===7){if(n.showWeekNumber){u.unshift(x(l-s,t,e))}o.push(T(u,n.isRTL));u=[];c=0}}return L(n,o)},isVisible:function(){return this._v},show:function(){if(!this._v){c(this.el,"is-hidden");this._v=true;this.draw();if(this._o.bound){s(r,"click",this._onClick);this.adjustPosition()}if(typeof this._o.onOpen==="function"){this._o.onOpen.call(this)}}},hide:function(){var e=this._v;if(e!==false){if(this._o.bound){o(r,"click",this._onClick)}this.el.style.cssText="";l(this.el,"is-hidden");this._v=false;if(e!==undefined&&typeof this._o.onClose==="function"){this._o.onClose.call(this)}}},destroy:function(){this.hide();o(this.el,"mousedown",this._onMouseDown,true);o(this.el,"change",this._onChange);if(this._o.field){o(this._o.field,"change",this._onInputChange);if(this._o.bound){o(this._o.trigger,"click",this._onInputClick);o(this._o.trigger,"focus",this._onInputFocus);o(this._o.trigger,"blur",this._onInputBlur)}}if(this.el.parentNode){this.el.parentNode.removeChild(this.el)}}};return A});